"use strict";var maxblog_functions={tn_breaking_new_data:[],tn_block_featured_data:[],tn_block_post_1_data:[],tn_block_post_2_data:[],tn_block_post_3_data:[],tn_block_post_4_data:[],get_data:function(t,e,n){e=e||1,n=n||"",t=t||[];var a=!0,o="/rss/"+e+"/";$.ajax({type:"get",url:o,success:function(o){var i=$(o).find("item").find("guid").text();if(n!=i?(maxblog_functions.tn_breaking_new_data=[],maxblog_functions.tn_block_featured_data=[],maxblog_functions.tn_block_post_1_data=[],maxblog_functions.tn_block_post_2_data=[],maxblog_functions.tn_block_post_3_data=[],maxblog_functions.tn_block_post_4_data=[],$(o).find("item").each(function(){var e=maxblog_functions.extract_data($(this));t.push(e)})):a=!1,1==a&&1!=maxblog_functions.check_data(t))maxblog_functions.get_data(t,e+1,i);else{if(maxblog_functions.render_breaking_news(),maxblog_functions.render_featured(),maxblog_functions.render_block_1(),maxblog_functions.render_block_2(),maxblog_functions.render_block_3(),maxblog_functions.render_block_4(),maxblog_functions.share_hover(),maxblog_functions.render_latest_widget(t),maxblog_functions.render_tag_cloud(t),maxblog_functions.render_facebook_widget(),maxblog_functions.render_instagram(),"undefined"!=typeof tn_site_smooth_scroll&&1==tn_site_smooth_scroll&&tn_smooth_scroll(),"undefined"!=typeof tn_enable_sticky_sidebar&&1==tn_enable_sticky_sidebar&&tn_sticky_sidebar.sticky_sidebar($(".tn-sidebar-sticky")),"undefined"!=typeof tn_enable_top_button&&1==tn_enable_top_button&&$().UItoTop({containerID:"toTop",easingType:"easeOutQuart",text:'<i class="fa fa-long-arrow-up"></i>',scrollSpeed:800}),maxblog_functions.open_mobile_nav(),"undefined"!=typeof tn_enable_sticky_navigation&&1==tn_enable_sticky_navigation){var r=$("#navigation"),s=r.find(".navigation-inner");s.css("width","100%"),r.css("min-height",s.height()),s.sticky({className:"is-sticky"})}maxblog_functions.render_search(),$(".entry").fitVids(),"undefined"!=typeof tn_disqus_shortname&&maxblog_functions.render_disqus(tn_disqus_shortname)}}})},check_data:function(t){var e=!1,n=!1,a=!1,o=!1,i=!1,r=!1,s=$(".featured-block-wrap"),l=$(".tn-block-1-wrap"),_=$(".tn-block-2-wrap"),c=$(".tn-block-3-wrap"),d=$(".tn-block-4-wrap");if("undefined"!=typeof tn_num_breaking_news&&tn_num_breaking_news>0){var u=0;$(t).each(function(){var t=this;return maxblog_functions.tn_breaking_new_data.push(t),u++,u>=tn_num_breaking_news?(e=!0,!1):void 0})}else e=!0;if(s.length>0&&"undefined"!=typeof tn_block_featured_tag&&tn_block_featured_tag.length>0&&"undefined"!=typeof tn_num_block_featured&&tn_num_block_featured>0){var f=0;$(t).each(function(){var t=this,e=$(t.tags);return t.image_url&&e.each(function(){return tn_block_featured_tag==$(this).text()?(f++,maxblog_functions.tn_block_featured_data.push(t),!0):void 0}),f==tn_num_block_featured?(n=!0,!1):void 0})}else n=!0;if(l.length>0&&"undefined"!=typeof tn_block_post_1_tag&&tn_block_post_1_tag.length>0){var m=0;$(t).each(function(){var t=this,e=$(t.tags);return e.each(function(){return tn_block_post_1_tag==$(this).text()?(m++,maxblog_functions.tn_block_post_1_data.push(t),!0):void 0}),m>=6?(a=!0,!1):void 0})}else a=!0;if(_.length>0&&"undefined"!=typeof tn_block_post_2_tag&&tn_block_post_2_tag.length>0){var b=0;$(t).each(function(){var t=this,e=$(t.tags);return e.each(function(){return tn_block_post_2_tag==$(this).text()?(b++,maxblog_functions.tn_block_post_2_data.push(t),!0):void 0}),b>=8?(o=!0,!1):void 0})}else o=!0;if(c.length>0&&"undefined"!=typeof tn_block_post_3_tag&&tn_block_post_3_tag.length>0){var p=0;$(t).each(function(){var t=this,e=$(t.tags);return e.each(function(){return tn_block_post_3_tag==$(this).text()?(p++,maxblog_functions.tn_block_post_3_data.push(t),!0):void 0}),p>=3?(i=!0,!1):void 0})}else i=!0;if(d.length>0&&"undefined"!=typeof tn_block_post_4_tag&&tn_block_post_4_tag.length>0){var g=0;$(t).each(function(){var t=this,e=$(t.tags);return e.each(function(){return tn_block_post_4_tag==$(this).text()?(g++,maxblog_functions.tn_block_post_4_data.push(t),!0):void 0}),g>=8?(r=!0,!1):void 0})}else r=!0;return 1==e&&1==n&&1==a&&1==o&&1==i&&1==r?1:0},render_breaking_news:function(){var t=$("#tn-ticker-bar");t.length>0&&($(maxblog_functions.tn_breaking_new_data).each(function(){var e="",n=this;e+='<li class="block-ticker-wrap">',e+='<h3 itemprop="name" class="post-title"><a itemprop="url" href="'+n.post_url+'" title"'+n.post_title+'">',e+=n.post_title,e+="</a></h3>",e+="</li>",t.append(e)}),t.ticker({titleText:tn_breaking_new_title}))},render_featured:function(){var t=$("#featured-block");if(t.length>0){var e=0,n="",a="",o="",i=$(maxblog_functions.tn_block_featured_data),r=i.size(),s=r-2,l='<div class="tn-slider-prev tn-slider-nav"><i class="fa fa-angle-double-left"></i></div>',_='<div class="tn-slider-next tn-slider-nav"><i class="fa fa-angle-double-right"></i></div>';i.each(function(){var t=this;s>e?(a+='<div class="featured-slider-el">',a+=maxblog_functions.render_thumb(t,!0,!0,!0),a+='<div class="module-content">',a+=maxblog_functions.render_share_button(),a+=maxblog_functions.render_title(t),a+=maxblog_functions.render_meta_bar(t),a+="</div>",a+="</div>"):o+=maxblog_functions.render_module_3(t),e++}),n+='<div class="block-featured-slider col-sm-8 col-xs-12">',n+='<div class="slider-loading"></div>',n+='<div class="tn-featured-slider slider-init">',n+=a,n+="</div><!--#tn featured slider-->",n+="</div><!--#big slider -->",n+='<div class="block-featured-small col-sm-4 col-xs-12">',n+=o,n+="</div><!--#small module -->",t.append(n);var c=$(".tn-featured-slider");c.length>0&&(c.on("init",function(){var t=$(this);t.prev(".slider-loading").fadeOut(600,function(){$(this).remove(),t.removeClass("slider-init")})}),c.slick({dots:!1,infinite:!0,autoplay:!0,speed:400,adaptiveHeight:!0,autoplaySpeed:5e3,arrows:!0,prevArrow:l,nextArrow:_}))}},render_block_1:function(){var t=$(".tn-block-1-wrap");if(t.length>0&&maxblog_functions.tn_block_post_1_data.length>0){var e="",n="",a="",o=$(maxblog_functions.tn_block_post_1_data),i=0;o.each(function(){var t=this;0==i?n+=maxblog_functions.render_module_1(t,40):a+=maxblog_functions.render_module_small(t),i++}),e+=maxblog_functions.render_block_title(tn_block_post_1_tag),e+='<div class="block-content-wrap">',e+='<div class="col-sm-8 col-xs-12 is-half-col">',e+=n,e+="</div><!--#left col-->",e+='<div class="col-sm-4 col-xs-12 is-half-col">',e+=a,e+="</div><!--#right col -->",e+="</div><!--#block 1 content wrap -->",t.append(e)}},render_block_2:function(){var t=$(".tn-block-2-wrap");if(t.length>0&&maxblog_functions.tn_block_post_2_data.length>0){var e="",n=$(maxblog_functions.tn_block_post_2_data),a=0;e+=maxblog_functions.render_block_title(tn_block_post_2_tag),e+='<div class="block-content-wrap">',n.each(function(){var t=this;e+='<div class="col-sm-6 col-xs-12 is-half-col">',e+=0==a||1==a?maxblog_functions.render_module_1(t):maxblog_functions.render_module_small_thumb(t),e+="</div>",a++,a%2==0&&(e+='<div class="clearfix break-line"></div>')}),e+="</div><!--#block 2 content wrap -->",t.append(e)}},render_block_3:function(){var t=$(".tn-block-3-wrap");if(t.length>0&&maxblog_functions.tn_block_post_3_data.length>0){var e="",n=$(maxblog_functions.tn_block_post_3_data);e+=maxblog_functions.render_block_title(tn_block_post_3_tag),e+='<div class="block-content-wrap">',n.each(function(){var t=this;e+='<div class="col-sm-4 col-xs-12 is-half-col">',e+=maxblog_functions.render_module_2(t),e+="</div>"}),e+="</div><!--#block 3 content wrap -->",t.append(e)}},render_block_4:function(){var t=$(".tn-block-4-wrap");if(t.length>0&&maxblog_functions.tn_block_post_4_data.length>0){var e="",n=$(maxblog_functions.tn_block_post_4_data),a=0;e+=maxblog_functions.render_block_title(tn_block_post_4_tag),e+='<div class="block-content-wrap">',n.each(function(){var t=this;e+='<div class="col-sm-6 col-xs-12 is-half-col">',e+=0==a||1==a?maxblog_functions.render_module_1(t):maxblog_functions.render_module_small_thumb(t),e+="</div>",a++,a%2==0&&(e+='<div class="clearfix break-line"></div>')}),e+="</div><!--#block 4 content wrap -->",t.append(e)}},extract_data:function(t){var e=[];return e.post_url=t.find("link").text(),e.post_title=t.find("title").text(),e.tags=t.find("category"),e.image_url=t.find("media\\:content, content").attr("url"),e.post_content=t.find("content\\:encoded, encoded").text(),e.post_date=t.find("pubDate").text(),e.post_author=t.find("dc\\:creator, creator").text(),e},render_title:function(t){if("undefined"!=typeof t.post_url&&"undefined"!=typeof t.post_title){var e="";return e+='<h3 class="post-title" itemprop="name">',e+='<a itemprop="url" href="'+t.post_url+'" title="'+t.post_title+'">',e+=t.post_title,e+="</a></h3>"}},render_meta_bar:function(t,e){var n="";return e=e||!1,n+='<div class="meta-bar-wrap">',n+=maxblog_functions.render_tags(t),n+=maxblog_functions.render_date(t),1!=e&&(n+=maxblog_functions.render_author(t)),n+="</div>"},render_tags:function(t){if("undefined"!=typeof t.tags){var e="";e+='<span class="meta-el tag-meta">';var n=t.tags;return $(n).each(function(){var t=$(this).text(),n=t.toLowerCase().replace(/ /g,"-");e+='<a class="tag-el" href="/tag/'+n+'">'+t+"</a>"}),e+="</span>"}},render_date:function(t){if("undefined"!=typeof t.post_date){var e="",n=maxblog_functions.get_date_format(t.post_date),a=t.post_date,o=a.split(" "),i=new Date(o[1]+"-"+o[2]+"-"+o[3]).getTime();return e+='<span class="meta-el date-meta">',e+='<time itemprop="dateCreated" datetime="'+i+'">'+n+"</time>",e+="</span>"}},get_date_format:function(t){var e=new Date(t),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=n[e.getMonth()];return a+" "+e.getDate()+", "+e.getFullYear()},render_author:function(t){if("undefined"!=t.post_author){var e="";return e+='<span class="meta-el author-meta">',e+=t.post_author,e+="</span>"}},render_thumb:function(t,e,n,a){if("undefined"!=t.image_url){var o="";return o+='<div class="thumb-wrap">',o+='<a href="'+t.post_url+'" title="'+t.post_title+'">',o+=1==e?'<div class="thumb-image" style="background-image: url('+t.image_url+')"></div>':'<img src="'+t.image_url+'" alt="'+t.post_title+'">',o+="</a>",1==n&&(1==a?o+=maxblog_functions.render_share(t):(o+=maxblog_functions.render_share_button(),o+=maxblog_functions.render_share(t))),o+="</div>"}},render_excerpt:function(t,e){if(e=e||20,"undefined"!=t.post_content){var n=$(t.post_content);n=n.text().replace("<code>","&lt;code&gt;").replace("<","&lt;").replace(">","&gt;"),n=n.split(/\s+/).slice(0,e).join(" ");var a="";return a+='<div class="entry">',a+=n,a+="</div>"}},render_share:function(t){if("undefined"!=t.post_url){var e="";return e+='<div class="share-wrap share-invisible">',e+='<div class="share-inner">',e+='<a class="share-el" href="http://www.facebook.com/sharer.php?u='+encodeURIComponent(t.post_url)+'" onclick="window.open(this.href, \'mywin\',\'left=50,top=50,width=600,height=350,toolbar=0\'); return false;"><i class="fa fa-facebook color-facebook"></i></a>',e+='<a class="share-to-social" href="https://twitter.com/intent/tweet?text='+t.post_title+"&amp;url="+encodeURIComponent(t.post_url)+'" onclick="window.open(this.href, \'mywin\',\'left=50,top=50,width=600,height=350,toolbar=0\'); return false;"><i class="fa fa-twitter color-twitter"></i></a>',e+='<a class="share-to-social" href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(t.post_url)+"&amp;media="+encodeURIComponent(t.image_url)+'" onclick="window.open(this.href, \'mywin\',\'left=50,top=50,width=600,height=350,toolbar=0\'); return false;"><i class="fa fa-pinterest color-pinterest"></i></a>',e+="</div>",e+="</div>"}},render_share_button:function(){return'<div class="share-button-wrap"><i class="fa fa-share"></i><span>share</span></div>'},render_block_title:function(t){if("undefined"!=t){var e="";return e+='<div class="block-title-wrap">',e+='<h3 class="block-title">'+t+"</h3>",e+="</div>"}},render_module_1:function(t,e){var n="";return e=e||20,n+='<div class="module-1-wrap">',n+=maxblog_functions.render_thumb(t,!0,!0),n+='<div class="module-content">',n+=maxblog_functions.render_title(t),n+=maxblog_functions.render_meta_bar(t),n+=maxblog_functions.render_excerpt(t,e),n+="</div>",n+="</div><!--#module 1-->"},render_module_2:function(t){var e="";return e+='<div class="module-2-wrap">',e+=maxblog_functions.render_thumb(t,!0,!0),e+='<div class="module-content">',e+=maxblog_functions.render_meta_bar(t,!0),e+=maxblog_functions.render_title(t),e+="</div>",e+="</div><!--#module 3 wrap-->"},render_module_3:function(t){var e="";return e+='<div class="module-3-wrap">',e+=maxblog_functions.render_thumb(t,!0,!0,!0),e+='<div class="module-content">',e+=maxblog_functions.render_share_button(),e+=maxblog_functions.render_title(t),e+=maxblog_functions.render_meta_bar(t),e+="</div>",e+="</div><!--#module 3 wrap-->"},render_module_small:function(t){var e="";return e+='<div class="module-small-wrap">',e+=maxblog_functions.render_title(t),e+=maxblog_functions.render_meta_bar(t,!0),e+="</div><!--#module small-->"},render_module_small_thumb:function(t){var e="";return e+='<div class="module-small-wrap is-small-thumb">',e+=maxblog_functions.render_thumb(t,!0),e+=maxblog_functions.render_title(t),e+=maxblog_functions.render_meta_bar(t,!0),e+="</div><!--#module small-->"},share_hover:function(){var t=$(".share-button-wrap");t.hover(function(){var t=$(this).closest(".thumb-wrap"),e=t.find(".share-wrap");return e.length>0?(e.addClass("share-visible"),t.mouseleave(function(){e.removeClass("share-visible")})):(t=$(this).closest(".module-content").prev(),e=t.find(".share-wrap"),e.length>0&&(e.addClass("share-visible"),t.mouseleave(function(){e.removeClass("share-visible")}))),!1})},render_latest_widget:function(t){var e=$(".tn-latest-wrap");if(e.length>0){var n="";$(t).slice(0,4).each(function(){var t=this;n+=maxblog_functions.render_module_small_thumb(t)}),e.append(n)}},render_tag_cloud:function(t){var e=$(".tn-tag-cloud");if(e.length>0){var n=[],a="";$(t).each(function(){var t=$(this.tags);t.each(function(){var t=$(this).text();-1==$.inArray(t,n)&&n.push(t)})}),$(n).each(function(){var t=this,e=t.toLowerCase().replace(/ /g,"-");a+='<a class="tag-cloud-el" href="/tag/'+e+'">'+t+"</a>"}),e.append(a)}},render_facebook_widget:function(){var t=$(".tn-faecbook-widget");if(t.length>0&&"undefined"!=typeof tn_fanpage_url){var e="<div id=\"fb-root\"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4\";fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script>",n='<div class="fb-page" data-href="'+tn_fanpage_url+'" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore"></div></div>';$("body").append(e),t.append(n)}},render_instagram:function(){var t=$(".tn-instagram");if(t.length>0&&"undefined"!=typeof tn_instagram_id&&"undefined"!=typeof tn_instagram_client_id){var e="";$.ajax({type:"GET",cache:!0,url:"https://api.instagram.com/v1/users/"+tn_instagram_id+"/media/recent/?client_id="+tn_instagram_client_id,dataType:"jsonp"}).done(function(n){var a=n.data.slice(0,9);$(a).each(function(){e+='<a href="'+this.link+'" target="_blank" class="col-xs-4 instagram-el"><img src="'+this.images.low_resolution.url+'" alt=""></a>'}),t.append(e)}).fail(function(){console.log("Instagram not responding")})}},render_search:function(){var t=$("#search-icon"),e=$("#search-form"),n=$("#search-form-text");t.click(function(){return e.toggleClass("is-display"),!1}),n.ghostHunter({results:"#ajax-search-result",zeroResultsInfo:!1,onKeyUp:!0,info_template:'<div class="result-info">Number of posts found: {{amount}}</div>',result_template:'<div class="search-result-el post-title"><a href="{{link}}"></i>{{title}}</a></div>'})},open_mobile_nav:function(){$("#mobile-button-nav-open").click(function(){return $("body").toggleClass("mobile-js-menu"),!1});var t=$("#main-mobile-menu"),e=$("#close-mobile-menu-button");$("html").click(function(){$("body").removeClass("mobile-js-menu")}),t.click(function(t){t.stopPropagation()}),e.click(function(){return $("body").removeClass("mobile-js-menu"),!1}),$(window).resize(function(){$(this).width()>991&&$("body").removeClass("mobile-js-menu")})},render_disqus:function(t){var e=$("#tn-disqus-comment");if(e.length>0){e.html('<div id="disqus_thread"></div>');var n=t,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//"+n+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}},init:function(){maxblog_functions.get_data()}};jQuery(document).ready(function(){maxblog_functions.init()});